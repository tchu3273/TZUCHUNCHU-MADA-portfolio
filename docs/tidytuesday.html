<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Tzu-Chun’s Tidy Tuesday Exercise</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  { color: #cccccc; background-color: #303030; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffcfaf; } /* Alert */
code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #dca3a3; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #f0dfaf; } /* ControlFlow */
code span.ch { color: #dca3a3; } /* Char */
code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code span.co { color: #7f9f7f; } /* Comment */
code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code span.do { color: #7f9f7f; } /* Documentation */
code span.dt { color: #dfdfbf; } /* DataType */
code span.dv { color: #dcdccc; } /* DecVal */
code span.er { color: #c3bf9f; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #c0bed1; } /* Float */
code span.fu { color: #efef8f; } /* Function */
code span.im { } /* Import */
code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
code span.kw { color: #f0dfaf; } /* Keyword */
code span.op { color: #f0efd0; } /* Operator */
code span.ot { color: #efef8f; } /* Other */
code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code span.sc { color: #dca3a3; } /* SpecialChar */
code span.ss { color: #cc9393; } /* SpecialString */
code span.st { color: #cc9393; } /* String */
code span.va { } /* Variable */
code span.vs { color: #cc9393; } /* VerbatimString */
code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">My Data Analysis Portfolio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="./aboutme.html">About Me</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Projects
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./rcoding.html">R Coding</a>
    </li>
    <li>
      <a href="./visualization.html">Visualization</a>
    </li>
    <li>
      <a href="./tidytuesday.html">Tidy Tuesday</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="URL-TO-THIS-REPOSITORY-HERE">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Tzu-Chun’s Tidy Tuesday Exercise</h1>

</div>


<div id="loading-required-packages" class="section level1">
<h1>Loading required packages</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">#install.packages(&quot;tidytuesdayR&quot;) # used to read in data directly</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(here)</span></code></pre></div>
<pre><code>## Warning: package &#39;here&#39; was built under R version 4.0.5</code></pre>
<pre><code>## here() starts at C:/Users/Vivianchu/Documents/UGA/Courses/Fall 2021/EPID_BIOS 8060 Modern Applied Data Analysis/MADA2021/TZUCHUNCHU-MADA-portfolio</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw">library</span>(tidytuesdayR)</span></code></pre></div>
<pre><code>## Warning: package &#39;tidytuesdayR&#39; was built under R version 4.0.5</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">library</span>(nberwp)</span></code></pre></div>
<pre><code>## Warning: package &#39;nberwp&#39; was built under R version 4.0.5</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">library</span>(summarytools) <span class="co"># to create frequency table</span></span></code></pre></div>
<pre><code>## Registered S3 method overwritten by &#39;pryr&#39;:
##   method      from
##   print.bytes Rcpp</code></pre>
<pre><code>## For best results, restart R session and update pander using devtools:: or remotes::install_github(&#39;rapporter/pander&#39;)</code></pre>
<pre><code>## 
## Attaching package: &#39;summarytools&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:tibble&#39;:
## 
##     view</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw">library</span>(RColorBrewer) <span class="co"># prepare a color palette for pie chart</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="kw">library</span>(lubridate) <span class="co"># used to work with datetime variables </span></span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     date, intersect, setdiff, union</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw">library</span>(tidytext)</span></code></pre></div>
</div>
<div id="get-the-data-with-tidytuesdayr-package" class="section level1">
<h1>Get the data with tidytuesdayR package</h1>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># This loads the readme and all the datasets for the week of interest</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="co"># Either ISO-8601 date or year/week works</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="co"># tuesdata &lt;- tidytuesdayR::tt_load(2021, week = 40)</span></span></code></pre></div>
<p>For some reason, I couldn’t get the data directly using the tidytuesdayR package and it seems like only the week 39 data were available for importing. Therefore, I will import these data manually.</p>
</div>
<div id="import-data-manually" class="section level1">
<h1>Import data manually</h1>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>papers &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/papers.csv&#39;</span>)</span>
<span id="cb18-2"><a href="#cb18-2"></a>authors &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/authors.csv&#39;</span>)</span>
<span id="cb18-3"><a href="#cb18-3"></a>programs &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/programs.csv&#39;</span>)</span>
<span id="cb18-4"><a href="#cb18-4"></a>paper_authors &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/paper_authors.csv&#39;</span>)</span>
<span id="cb18-5"><a href="#cb18-5"></a>paper_programs &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/paper_programs.csv&#39;</span>)</span></code></pre></div>
</div>
<div id="cleaning-script-used-to-create-the-combo-data" class="section level1">
<h1>Cleaning script used to create the combo data</h1>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>papers <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="st">  </span><span class="kw">write_csv</span>(<span class="st">&quot;tidytuesday/data/papers.csv&quot;</span>)</span>
<span id="cb19-3"><a href="#cb19-3"></a></span>
<span id="cb19-4"><a href="#cb19-4"></a>authors <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="st">  </span><span class="kw">write_csv</span>(<span class="st">&quot;tidytuesday/data/authors.csv&quot;</span>)</span>
<span id="cb19-6"><a href="#cb19-6"></a></span>
<span id="cb19-7"><a href="#cb19-7"></a>programs <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-8"><a href="#cb19-8"></a><span class="st">  </span><span class="kw">write_csv</span>(<span class="st">&quot;tidytuesday/data/programs.csv&quot;</span>)</span>
<span id="cb19-9"><a href="#cb19-9"></a></span>
<span id="cb19-10"><a href="#cb19-10"></a>paper_authors <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-11"><a href="#cb19-11"></a><span class="st">  </span><span class="kw">write_csv</span>(<span class="st">&#39;tidytuesday/data/paper_authors.csv&#39;</span>)</span>
<span id="cb19-12"><a href="#cb19-12"></a></span>
<span id="cb19-13"><a href="#cb19-13"></a>paper_programs <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-14"><a href="#cb19-14"></a><span class="st">  </span><span class="kw">write_csv</span>(<span class="st">&quot;tidytuesday/data/paper_programs.csv&quot;</span>)</span>
<span id="cb19-15"><a href="#cb19-15"></a></span>
<span id="cb19-16"><a href="#cb19-16"></a>joined_df &lt;-<span class="st"> </span><span class="kw">left_join</span>(papers, paper_authors) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-17"><a href="#cb19-17"></a><span class="st">  </span><span class="kw">left_join</span>(authors) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-18"><a href="#cb19-18"></a><span class="st">  </span><span class="kw">left_join</span>(paper_programs) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-19"><a href="#cb19-19"></a><span class="st">  </span><span class="kw">left_join</span>(programs)<span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-20"><a href="#cb19-20"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb19-21"><a href="#cb19-21"></a>    <span class="dt">catalogue_group =</span> <span class="kw">str_sub</span>(paper, <span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb19-22"><a href="#cb19-22"></a>    <span class="dt">catalogue_group =</span> <span class="kw">case_when</span>(</span>
<span id="cb19-23"><a href="#cb19-23"></a>      catalogue_group <span class="op">==</span><span class="st"> &quot;h&quot;</span> <span class="op">~</span><span class="st"> &quot;Historical&quot;</span>,</span>
<span id="cb19-24"><a href="#cb19-24"></a>      catalogue_group <span class="op">==</span><span class="st"> &quot;t&quot;</span> <span class="op">~</span><span class="st"> &quot;Technical&quot;</span>,</span>
<span id="cb19-25"><a href="#cb19-25"></a>      catalogue_group <span class="op">==</span><span class="st"> &quot;w&quot;</span> <span class="op">~</span><span class="st"> &quot;General&quot;</span></span>
<span id="cb19-26"><a href="#cb19-26"></a>    ),</span>
<span id="cb19-27"><a href="#cb19-27"></a>    <span class="dt">.after =</span> paper</span>
<span id="cb19-28"><a href="#cb19-28"></a>  ) </span></code></pre></div>
<pre><code>## Joining, by = &quot;paper&quot;</code></pre>
<pre><code>## Joining, by = &quot;author&quot;</code></pre>
<pre><code>## Joining, by = &quot;paper&quot;</code></pre>
<pre><code>## Joining, by = &quot;program&quot;</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>combo_df &lt;-<span class="st"> </span>joined_df</span></code></pre></div>
</div>
<div id="examine-the-combo-data" class="section level1">
<h1>Examine the combo data</h1>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="kw">dim</span> (combo_df)</span></code></pre></div>
<pre><code>## [1] 130081     12</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="kw">str</span>(combo_df)</span></code></pre></div>
<pre><code>## tibble [130,081 x 12] (S3: tbl_df/tbl/data.frame)
##  $ paper           : chr [1:130081] &quot;w0001&quot; &quot;w0002&quot; &quot;w0003&quot; &quot;w0004&quot; ...
##  $ catalogue_group : chr [1:130081] &quot;General&quot; &quot;General&quot; &quot;General&quot; &quot;General&quot; ...
##  $ year            : num [1:130081] 1973 1973 1973 1973 1973 ...
##  $ month           : num [1:130081] 6 6 6 7 7 7 8 9 9 9 ...
##  $ title           : chr [1:130081] &quot;Education, Information, and Efficiency&quot; &quot;Hospital Utilization: An Analysis of SMSA Differences in Hospital Admission Rates, Occupancy Rates and Bed Rates&quot; &quot;Error Components Regression Models and Their Applications&quot; &quot;Human Capital Life Cycle of Earnings Models: A Specific Solution and Estimation&quot; ...
##  $ author          : chr [1:130081] &quot;w0001.1&quot; &quot;w0002.1&quot; &quot;w0003.1&quot; &quot;w0004.1&quot; ...
##  $ name            : chr [1:130081] &quot;Finis Welch&quot; &quot;Barry R Chiswick&quot; &quot;Swarnjit S Arora&quot; &quot;Lee A Lillard&quot; ...
##  $ user_nber       : chr [1:130081] &quot;finis_welch&quot; &quot;barry_chiswick&quot; &quot;swarnjit_arora&quot; NA ...
##  $ user_repec      : chr [1:130081] NA &quot;pch425&quot; NA &quot;pli669&quot; ...
##  $ program         : chr [1:130081] NA NA NA NA ...
##  $ program_desc    : chr [1:130081] NA NA NA NA ...
##  $ program_category: chr [1:130081] NA NA NA NA ...</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="kw">summary</span>(combo_df)</span></code></pre></div>
<pre><code>##     paper           catalogue_group         year          month       
##  Length:130081      Length:130081      Min.   :1973   Min.   : 1.000  
##  Class :character   Class :character   1st Qu.:2005   1st Qu.: 4.000  
##  Mode  :character   Mode  :character   Median :2013   Median : 6.000  
##                                        Mean   :2010   Mean   : 6.515  
##                                        3rd Qu.:2018   3rd Qu.: 9.000  
##                                        Max.   :2021   Max.   :12.000  
##     title              author              name            user_nber        
##  Length:130081      Length:130081      Length:130081      Length:130081     
##  Class :character   Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character   Mode  :character  
##                                                                             
##                                                                             
##                                                                             
##   user_repec          program          program_desc       program_category  
##  Length:130081      Length:130081      Length:130081      Length:130081     
##  Class :character   Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character   Mode  :character  
##                                                                             
##                                                                             
## </code></pre>
</div>
<div id="check-the-missingness" class="section level1">
<h1>Check the missingness</h1>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>missing_table &lt;-<span class="st"> </span><span class="kw">sapply</span>(combo_df, <span class="cf">function</span>(x){ </span>
<span id="cb31-2"><a href="#cb31-2"></a>                 freq &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="kw">is.na</span>(x))</span>
<span id="cb31-3"><a href="#cb31-3"></a>                 perc &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">sum</span>(<span class="kw">is.na</span>(x))<span class="op">/</span><span class="kw">length</span>(x)<span class="op">*</span><span class="dv">100</span>,<span class="dv">2</span>)</span>
<span id="cb31-4"><a href="#cb31-4"></a>                 <span class="kw">return</span>(<span class="kw">c</span>(freq, perc))</span>
<span id="cb31-5"><a href="#cb31-5"></a>                 })</span>
<span id="cb31-6"><a href="#cb31-6"></a><span class="kw">rownames</span>(missing_table) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;freq&quot;</span>, <span class="st">&quot;perc&quot;</span>)</span>
<span id="cb31-7"><a href="#cb31-7"></a>missing_table</span></code></pre></div>
<pre><code>##      paper catalogue_group year month title author name user_nber user_repec
## freq     0               0    0     0     0      0    0   2112.00   47158.00
## perc     0               0    0     0     0      0    0      1.62      36.25
##      program program_desc program_category
## freq  530.00       530.00          1516.00
## perc    0.41         0.41             1.17</code></pre>
<p>There are 130,081 rows and 12 variables in the combo data. The data type for each variable looks correct, but there are missingness in the data. Program and program description (basically the same variable) have most of the missing values (41%). In order to simplify the further data analysis, I will exclude these rows.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>combo_df2 &lt;-<span class="st"> </span>combo_df <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb33-2"><a href="#cb33-2"></a><span class="st">             </span>dplyr<span class="op">::</span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(program))</span>
<span id="cb33-3"><a href="#cb33-3"></a>missing_table &lt;-<span class="st"> </span><span class="kw">sapply</span>(combo_df2, <span class="cf">function</span>(x){ </span>
<span id="cb33-4"><a href="#cb33-4"></a>                 freq &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="kw">is.na</span>(x))</span>
<span id="cb33-5"><a href="#cb33-5"></a>                 perc &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">sum</span>(<span class="kw">is.na</span>(x))<span class="op">/</span><span class="kw">length</span>(x)<span class="op">*</span><span class="dv">100</span>,<span class="dv">2</span>)</span>
<span id="cb33-6"><a href="#cb33-6"></a>                 <span class="kw">return</span>(<span class="kw">c</span>(freq, perc))</span>
<span id="cb33-7"><a href="#cb33-7"></a>                 })</span>
<span id="cb33-8"><a href="#cb33-8"></a><span class="kw">rownames</span>(missing_table) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;freq&quot;</span>, <span class="st">&quot;perc&quot;</span>)</span>
<span id="cb33-9"><a href="#cb33-9"></a>missing_table</span></code></pre></div>
<pre><code>##      paper catalogue_group year month title author name user_nber user_repec
## freq     0               0    0     0     0      0    0   2017.00   46853.00
## perc     0               0    0     0     0      0    0      1.56      36.17
##      program program_desc program_category
## freq       0            0           986.00
## perc       0            0             0.76</code></pre>
<p>We can see that there is still 0.76 % of missing values in program_category. I will also remove these rows.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>combo_new &lt;-<span class="st"> </span>combo_df2 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb35-2"><a href="#cb35-2"></a><span class="st">             </span>dplyr<span class="op">::</span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(program_category))</span>
<span id="cb35-3"><a href="#cb35-3"></a>missing_table &lt;-<span class="st"> </span><span class="kw">sapply</span>(combo_new, <span class="cf">function</span>(x){ </span>
<span id="cb35-4"><a href="#cb35-4"></a>                 freq &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="kw">is.na</span>(x))</span>
<span id="cb35-5"><a href="#cb35-5"></a>                 perc &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">sum</span>(<span class="kw">is.na</span>(x))<span class="op">/</span><span class="kw">length</span>(x)<span class="op">*</span><span class="dv">100</span>,<span class="dv">2</span>)</span>
<span id="cb35-6"><a href="#cb35-6"></a>                 <span class="kw">return</span>(<span class="kw">c</span>(freq, perc))</span>
<span id="cb35-7"><a href="#cb35-7"></a>                 })</span>
<span id="cb35-8"><a href="#cb35-8"></a><span class="kw">rownames</span>(missing_table) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;freq&quot;</span>, <span class="st">&quot;perc&quot;</span>)</span>
<span id="cb35-9"><a href="#cb35-9"></a>missing_table</span></code></pre></div>
<pre><code>##      paper catalogue_group year month title author name user_nber user_repec
## freq     0               0    0     0     0      0    0   2006.00   46438.00
## perc     0               0    0     0     0      0    0      1.56      36.12
##      program program_desc program_category
## freq       0            0                0
## perc       0            0                0</code></pre>
<p>Now, we have the complete data for all columns except for user_nber and user_repec, but I will not use these variables in the following analysis. Hence, I will just ignore these two variables for now and keep it as it is.</p>
</div>
<div id="frequency-of-publication-by-catalogues-over-time" class="section level1">
<h1>Frequency of publication by catalogues over time</h1>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>combo_new <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">fill =</span> catalogue_group)) <span class="op">+</span></span>
<span id="cb37-3"><a href="#cb37-3"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">position =</span> <span class="st">&quot;stack&quot;</span>, <span class="dt">binwidth=</span><span class="dv">2</span>) </span></code></pre></div>
<p><img src="tidytuesday_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>It looks like there is a rising trend in terms of the number of publications over time and most of the publications were just general type.</p>
</div>
<div id="peek-into-the-program-of-the-publications" class="section level1">
<h1>Peek into the program of the publications</h1>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>summarytools<span class="op">::</span><span class="kw">freq</span>(combo_new<span class="op">$</span>program_desc, <span class="dt">order =</span> <span class="st">&quot;freq&quot;</span>)</span></code></pre></div>
<pre><code>## Frequencies  
## 
##                                                          Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
## ---------------------------------------------------- -------- --------- -------------- --------- --------------
##                                        Labor Studies    14084     10.95          10.95     10.95          10.95
##                                     Public Economics    13967     10.86          21.82     10.86          21.82
##                     Economic Fluctuations and Growth    13113     10.20          32.02     10.20          32.02
##             International Finance and Macroeconomics     8570      6.67          38.68      6.67          38.68
##                   International Trade and Investment     7125      5.54          44.23      5.54          44.23
##                                   Monetary Economics     7121      5.54          49.76      5.54          49.76
##                                        Asset Pricing     6804      5.29          55.06      5.29          55.06
##                                     Health Economics     6671      5.19          60.25      5.19          60.25
##                                    Corporate Finance     6153      4.79          65.03      4.79          65.03
##       Productivity, Innovation, and Entrepreneurship     6084      4.73          69.76      4.73          69.76
##                                          Health Care     4678      3.64          73.40      3.64          73.40
##                                             Children     4502      3.50          76.90      3.50          76.90
##                              Industrial Organization     4492      3.49          80.40      3.49          80.40
##                               Economics of Education     4311      3.35          83.75      3.35          83.75
##                                   Economics of Aging     4237      3.30          87.05      3.30          87.05
##                                Development Economics     3849      2.99          90.04      2.99          90.04
##                                  Political Economics     3557      2.77          92.81      2.77          92.81
##                  Development of the American Economy     3370      2.62          95.43      2.62          95.43
##                     Environment and Energy Economics     3084      2.40          97.83      2.40          97.83
##                                    Law and Economics     2793      2.17         100.00      2.17         100.00
##                                                 &lt;NA&gt;        0                               0.00         100.00
##                                                Total   128565    100.00         100.00    100.00         100.00</code></pre>
</div>
<div id="pie-chart" class="section level1">
<h1>Pie chart</h1>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>coul &lt;-<span class="st"> </span><span class="kw">brewer.pal</span>(<span class="dv">4</span>, <span class="st">&quot;PuOr&quot;</span>) </span>
<span id="cb40-2"><a href="#cb40-2"></a><span class="co"># Add more colors to this palette</span></span>
<span id="cb40-3"><a href="#cb40-3"></a>coul &lt;-<span class="st"> </span><span class="kw">colorRampPalette</span>(coul)(<span class="dv">25</span>)</span>
<span id="cb40-4"><a href="#cb40-4"></a>program.data &lt;-<span class="st"> </span>combo_new <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb40-5"><a href="#cb40-5"></a><span class="st">                  </span><span class="kw">count</span>(program_desc)</span>
<span id="cb40-6"><a href="#cb40-6"></a><span class="kw">pie</span>(<span class="dt">x =</span> program.data<span class="op">$</span>n, <span class="dt">label =</span> program.data<span class="op">$</span>program_desc,  <span class="dt">border=</span><span class="st">&quot;white&quot;</span>, <span class="dt">col=</span>coul)</span></code></pre></div>
<p><img src="tidytuesday_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>pie</span></code></pre></div>
<pre><code>## function (x, labels = names(x), edges = 200, radius = 0.8, clockwise = FALSE, 
##     init.angle = if (clockwise) 90 else 0, density = NULL, angle = 45, 
##     col = NULL, border = NULL, lty = NULL, main = NULL, ...) 
## {
##     if (!is.numeric(x) || any(is.na(x) | x &lt; 0)) 
##         stop(&quot;&#39;x&#39; values must be positive.&quot;)
##     if (is.null(labels)) 
##         labels &lt;- as.character(seq_along(x))
##     else labels &lt;- as.graphicsAnnot(labels)
##     x &lt;- c(0, cumsum(x)/sum(x))
##     dx &lt;- diff(x)
##     nx &lt;- length(dx)
##     plot.new()
##     pin &lt;- par(&quot;pin&quot;)
##     xlim &lt;- ylim &lt;- c(-1, 1)
##     if (pin[1L] &gt; pin[2L]) 
##         xlim &lt;- (pin[1L]/pin[2L]) * xlim
##     else ylim &lt;- (pin[2L]/pin[1L]) * ylim
##     dev.hold()
##     on.exit(dev.flush())
##     plot.window(xlim, ylim, &quot;&quot;, asp = 1)
##     if (is.null(col)) 
##         col &lt;- if (is.null(density)) 
##             c(&quot;white&quot;, &quot;lightblue&quot;, &quot;mistyrose&quot;, &quot;lightcyan&quot;, 
##                 &quot;lavender&quot;, &quot;cornsilk&quot;)
##         else par(&quot;fg&quot;)
##     if (!is.null(col)) 
##         col &lt;- rep_len(col, nx)
##     if (!is.null(border)) 
##         border &lt;- rep_len(border, nx)
##     if (!is.null(lty)) 
##         lty &lt;- rep_len(lty, nx)
##     angle &lt;- rep(angle, nx)
##     if (!is.null(density)) 
##         density &lt;- rep_len(density, nx)
##     twopi &lt;- if (clockwise) 
##         -2 * pi
##     else 2 * pi
##     t2xy &lt;- function(t) {
##         t2p &lt;- twopi * t + init.angle * pi/180
##         list(x = radius * cos(t2p), y = radius * sin(t2p))
##     }
##     for (i in 1L:nx) {
##         n &lt;- max(2, floor(edges * dx[i]))
##         P &lt;- t2xy(seq.int(x[i], x[i + 1], length.out = n))
##         polygon(c(P$x, 0), c(P$y, 0), density = density[i], angle = angle[i], 
##             border = border[i], col = col[i], lty = lty[i])
##         P &lt;- t2xy(mean(x[i + 0:1]))
##         lab &lt;- as.character(labels[i])
##         if (!is.na(lab) &amp;&amp; nzchar(lab)) {
##             lines(c(1, 1.05) * P$x, c(1, 1.05) * P$y)
##             text(1.1 * P$x, 1.1 * P$y, labels[i], xpd = TRUE, 
##                 adj = ifelse(P$x &lt; 0, 1, 0), ...)
##         }
##     }
##     title(main = main, ...)
##     invisible(NULL)
## }
## &lt;bytecode: 0x000000002556a478&gt;
## &lt;environment: namespace:graphics&gt;</code></pre>
<p>The frequency table shows that top 3 most frequently published programs are “Labor Studies”, “Public Economics” and “Economic Fluctuations and Growth”.</p>
</div>
<div id="plotting" class="section level1">
<h1>Plotting</h1>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>combo_new <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">fill =</span> program_category)) <span class="op">+</span></span>
<span id="cb43-3"><a href="#cb43-3"></a><span class="st">  </span><span class="kw">geom_area</span>(<span class="dt">stat=</span><span class="st">&quot;bin&quot;</span>) <span class="op">+</span></span>
<span id="cb43-4"><a href="#cb43-4"></a><span class="st">  </span><span class="kw">scale_fill_brewer</span>(<span class="dt">palette=</span><span class="st">&quot;Set3&quot;</span>) <span class="op">+</span></span>
<span id="cb43-5"><a href="#cb43-5"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb43-6"><a href="#cb43-6"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Frequency of publication by program categories over time&quot;</span>)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="tidytuesday_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>According to the stacked area chart, we can see that most of the economic papers were concerning topics on the macro and international level from 1980 to 1990. On the contrary, microeconomics-related studies were published the most in the past 10 years, followed by macro/international field and then finance. Furthermore, it looks like there was an increasing trend of publications regarding macro/international field right around 2010, which got me thinking whether this pattern has something to do with the Great Recession lasting from December 2007 to June 2009. Hence, I decided to dive deeper to look at the data within this time period between 2006 and 2010.</p>
</div>
<div id="subset-the-data" class="section level1">
<h1>Subset the data</h1>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>reces.period &lt;-<span class="st"> </span>combo_new <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="st">     </span><span class="kw">filter</span>(year <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">2006</span>,<span class="dv">2007</span>,<span class="dv">2008</span>,<span class="dv">2009</span>,<span class="dv">2010</span>))</span></code></pre></div>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="co"># factor program category</span></span>
<span id="cb46-2"><a href="#cb46-2"></a>reces.period<span class="op">$</span>program_category &lt;-<span class="st"> </span><span class="kw">factor</span>(reces.period<span class="op">$</span>program_category, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Finance&quot;</span>,<span class="st">&quot;Micro&quot;</span>,<span class="st">&quot;Macro/International&quot;</span>))</span>
<span id="cb46-3"><a href="#cb46-3"></a>reces.period <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb46-4"><a href="#cb46-4"></a><span class="st">  </span><span class="kw">group_by</span>(year) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb46-5"><a href="#cb46-5"></a><span class="st">  </span><span class="kw">count</span>(program_category) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb46-6"><a href="#cb46-6"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> n, <span class="dt">fill =</span> program_category)) <span class="op">+</span></span>
<span id="cb46-7"><a href="#cb46-7"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="op">+</span></span>
<span id="cb46-8"><a href="#cb46-8"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">2006</span>,<span class="dv">2010</span>,<span class="dv">1</span>)) <span class="op">+</span></span>
<span id="cb46-9"><a href="#cb46-9"></a><span class="st">  </span><span class="kw">scale_fill_brewer</span>(<span class="dt">palette=</span><span class="st">&quot;Dark2&quot;</span>) <span class="op">+</span></span>
<span id="cb46-10"><a href="#cb46-10"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Number of publications by program cateogory between 2006 and 2010&quot;</span>) <span class="op">+</span></span>
<span id="cb46-11"><a href="#cb46-11"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Number of publications&quot;</span>) <span class="op">+</span></span>
<span id="cb46-12"><a href="#cb46-12"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Year&quot;</span>) </span></code></pre></div>
<p><img src="tidytuesday_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>Well, it looks like there were not much fluctuation in number of publications between three categories across five calender years. I wonder if this was because the data was aggregated by year, and maybe the monthly data could provide more insights about the actual trend change.</p>
</div>
<div id="combine-year-and-month-to-date-variable" class="section level1">
<h1>Combine year and month to date variable</h1>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>reces.period.new &lt;-<span class="st"> </span>reces.period <span class="op">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="st">                      </span><span class="kw">mutate</span>(<span class="dt">date =</span> <span class="kw">make_date</span>(year, month))</span></code></pre></div>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="co">#Produce a vector of days </span></span>
<span id="cb48-2"><a href="#cb48-2"></a>dateVec &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2006-01-01&quot;</span>), <span class="dt">to =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2010-12-01&quot;</span>), <span class="dt">by =</span> <span class="st">&quot;months&quot;</span>)</span>
<span id="cb48-3"><a href="#cb48-3"></a></span>
<span id="cb48-4"><a href="#cb48-4"></a><span class="kw">ggplot</span>(reces.period.new, <span class="kw">aes</span>(<span class="dt">x =</span> date,  <span class="dt">fill =</span> program_category)) <span class="op">+</span></span>
<span id="cb48-5"><a href="#cb48-5"></a><span class="st">  </span><span class="kw">geom_area</span>(<span class="dt">stat=</span><span class="st">&quot;bin&quot;</span>) <span class="op">+</span></span>
<span id="cb48-6"><a href="#cb48-6"></a><span class="st">  </span><span class="kw">scale_x_date</span>(<span class="dt">date_breaks =</span> <span class="st">&quot;3 month&quot;</span>,</span>
<span id="cb48-7"><a href="#cb48-7"></a>               <span class="dt">limits =</span> <span class="kw">c</span>(<span class="kw">min</span>(dateVec), <span class="kw">max</span>(dateVec)),</span>
<span id="cb48-8"><a href="#cb48-8"></a>               <span class="dt">expand=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="op">+</span></span>
<span id="cb48-9"><a href="#cb48-9"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust=</span><span class="dv">1</span>)) <span class="op">+</span></span>
<span id="cb48-10"><a href="#cb48-10"></a><span class="st">  </span><span class="kw">scale_fill_brewer</span>(<span class="dt">palette=</span><span class="st">&quot;Accent&quot;</span>) <span class="op">+</span></span>
<span id="cb48-11"><a href="#cb48-11"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;The stacked area chart for number of publications by program category </span><span class="ch">\n</span><span class="st">between between 2006 and 2010, monthly data&quot;</span>)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="tidytuesday_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>It looks like there there were higher number of publications in certain months. The spikes generally occurred during July and October every year. The number of macro-level studies published seems to be fairly stable over the course of five years. Oops, I just realized that there are duplicated titles due to multiple authors listed on one paper, and this could affect our comparison results. However, one paper could be categorized into more than one group the program and detailed description. I’m not sure what’s the best way to address this issue. I could have created new categories by grouping multiple categories together such as micro/macro, micro/finance, or just categorized these publication with mixed fields into “Other”. For this exercise, I will just keep the current data by focusing on the which topic areas were covered by the published paper even thought it might be from the same article.</p>
</div>
<div id="which-author-had-the-most-publications" class="section level1">
<h1>Which author had the most publications?</h1>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="co"># exclude the duplicated publications</span></span>
<span id="cb50-2"><a href="#cb50-2"></a>reces.period.new <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb50-3"><a href="#cb50-3"></a><span class="st">  </span><span class="kw">distinct</span>(title, name) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb50-4"><a href="#cb50-4"></a><span class="st">  </span><span class="kw">count</span>(name) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb50-5"><a href="#cb50-5"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="op">-</span>n) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb50-6"><a href="#cb50-6"></a><span class="st">  </span><span class="kw">filter</span>(n <span class="op">&gt;</span><span class="st"> </span><span class="dv">20</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb50-7"><a href="#cb50-7"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> name, <span class="dt">y =</span> n)) <span class="op">+</span></span>
<span id="cb50-8"><a href="#cb50-8"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span></span>
<span id="cb50-9"><a href="#cb50-9"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust=</span><span class="dv">1</span>)) <span class="op">+</span></span>
<span id="cb50-10"><a href="#cb50-10"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span></span>
<span id="cb50-11"><a href="#cb50-11"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;count&#39;</span>) </span></code></pre></div>
<p><img src="tidytuesday_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>12 authors had more than 20 publications during these years.</p>
</div>
<div id="what-is-the-number-of-publications-by-program-sub-category-between-2006-and-2010" class="section level1">
<h1>What is the number of publications by program sub-category between 2006 and 2010?</h1>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>reces.period.new <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> date, <span class="dt">fill =</span> program_desc )) <span class="op">+</span></span>
<span id="cb51-2"><a href="#cb51-2"></a><span class="st">                      </span><span class="kw">geom_area</span>(<span class="dt">stat=</span><span class="st">&quot;bin&quot;</span>, <span class="dt">bins =</span> <span class="dv">30</span>) <span class="op">+</span></span>
<span id="cb51-3"><a href="#cb51-3"></a><span class="st">                      </span><span class="kw">scale_x_date</span>(<span class="dt">date_breaks =</span> <span class="st">&quot;3 month&quot;</span>,</span>
<span id="cb51-4"><a href="#cb51-4"></a>                      <span class="dt">limits =</span> <span class="kw">c</span>(<span class="kw">min</span>(dateVec), <span class="kw">max</span>(dateVec)),</span>
<span id="cb51-5"><a href="#cb51-5"></a>                      <span class="dt">expand=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="op">+</span></span>
<span id="cb51-6"><a href="#cb51-6"></a><span class="st">                      </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust=</span><span class="dv">1</span>)) </span></code></pre></div>
<p><img src="tidytuesday_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>It’s a bit difficult to see the pattern with so many categories. Let’s focus on the program subcategories within Macro or International studies.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>reces.period.new <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(program_category <span class="op">==</span><span class="st"> &quot;Macro/International&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="st">                      </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> date, <span class="dt">fill =</span> program_desc )) <span class="op">+</span></span>
<span id="cb52-3"><a href="#cb52-3"></a><span class="st">                      </span><span class="kw">geom_area</span>(<span class="dt">stat=</span><span class="st">&quot;bin&quot;</span>, <span class="dt">bins =</span> <span class="dv">30</span>) <span class="op">+</span></span>
<span id="cb52-4"><a href="#cb52-4"></a><span class="st">                      </span><span class="kw">scale_x_date</span>(<span class="dt">date_breaks =</span> <span class="st">&quot;3 month&quot;</span>,</span>
<span id="cb52-5"><a href="#cb52-5"></a>                      <span class="dt">limits =</span> <span class="kw">c</span>(<span class="kw">min</span>(dateVec), <span class="kw">max</span>(dateVec)),</span>
<span id="cb52-6"><a href="#cb52-6"></a>                      <span class="dt">expand=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="op">+</span></span>
<span id="cb52-7"><a href="#cb52-7"></a><span class="st">                      </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust=</span><span class="dv">1</span>)) </span></code></pre></div>
<p><img src="tidytuesday_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>Apparently, economic fluctuations and growth is a major focus during these 5 years, and it looks like that this upward trend will continue. Now, I’m curious to know if that is true. I am gonna plot the same graph but extend to all years.</p>
</div>
<div id="trend-in-number-of-published-macroencomomics-studies-by-subcategories-over-time" class="section level1">
<h1>Trend in number of published macroencomomics studies by subcategories over time</h1>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>combo_new <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb53-2"><a href="#cb53-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">date =</span> <span class="kw">make_date</span>(year, month)) <span class="op">%&gt;%</span></span>
<span id="cb53-3"><a href="#cb53-3"></a><span class="st">  </span><span class="kw">filter</span>(program_category <span class="op">==</span><span class="st"> &quot;Macro/International&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb53-4"><a href="#cb53-4"></a><span class="st">                      </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">fill =</span> program_desc )) <span class="op">+</span></span>
<span id="cb53-5"><a href="#cb53-5"></a><span class="st">                      </span><span class="kw">geom_area</span>(<span class="dt">stat=</span><span class="st">&quot;bin&quot;</span>, <span class="dt">bins =</span> <span class="dv">30</span>) <span class="op">+</span></span>
<span id="cb53-6"><a href="#cb53-6"></a><span class="st">                      </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust=</span><span class="dv">1</span>)) </span></code></pre></div>
<p><img src="tidytuesday_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>Based on the plotted graph, there is indeed an increasing trend in number of macroenconomics papers concerning the economic fluctuation and growth over time.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
